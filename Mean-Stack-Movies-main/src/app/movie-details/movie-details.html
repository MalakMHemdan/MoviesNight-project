<div *ngIf="movie" class="movie-details-dark">
  <div class="movie-header-dark">
    <!-- Poster -->
    <div class="poster-container">
      <img
        [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path"
        alt="{{ movie.title }}"
        class="poster-img"
      />
    </div>

    <!-- Info -->
    <div class="info-container">
      <div class="title-row">
        <h1 class="movie-title">{{ movie.title }}</h1>
        <button
          class="watchlist-btn"
          (click)="toggleWishlist()"
          [title]="isInWishlist() ? 'Remove from wishlist' : 'Add to wishlist'"
        >
          <span [style.opacity]="isInWishlist() ? '1' : '0.3'">ğŸ’›</span>
        </button>
      </div>

      <p class="overview">{{ movie.overview }}</p>

      <div class="genres">
        <span *ngFor="let g of movie.genres" class="tag">{{ g.name }}</span>
      </div>

      <p class="extra">
        â±ï¸ {{ movie.runtime }} min | ğŸ—£ï¸ {{ spokenLanguagesNames }}
      </p>

      <div class="production-logos">
        <ng-container *ngFor="let p of movie.production_companies">
          <img
            *ngIf="p.logo_path"
            [src]="'https://image.tmdb.org/t/p/w200' + p.logo_path"
            [alt]="p.name"
            class="company-logo"
          />
        </ng-container>
      </div>

      <a
        *ngIf="movie.homepage"
        [href]="movie.homepage"
        target="_blank"
        class="website-link"
      >
        ğŸŒ Official Website
      </a>
    </div>
  </div>

  <!-- Recommendations -->
  <div class="recommendations-section-dark">
    <h2>Recommended for You</h2>
    <div class="recommendation-grid">
      <div
        *ngFor="let rec of recommendations | slice : 0 : 16"
        class="rec-card-dark"
      >
        <a [routerLink]="['/movie', rec.id]">
          <img
            [src]="'https://image.tmdb.org/t/p/w200' + rec.poster_path"
            alt="{{ rec.title }}"
          />
          <div class="rec-info">
            <p class="rec-title">{{ rec.title }}</p>
            <p class="rec-vote">â­ {{ rec.vote_average }}/10</p>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>
